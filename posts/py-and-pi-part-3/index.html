<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/app.88323558fe2110f6bc3d.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.25;font-size:12px;border-radius:4px;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><style data-href="/component---src-templates-blog-post-template-js.0620f9994068516ee82f.css">@import url(https://fonts.googleapis.com/css?family=Francois+One|Open+Sans|Source+Serif+Pro:400,700|Source+Sans+Pro:900);.header,.widget-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-shadow:1px 1px 1px rgba(0,0,0,.004)}.bc-title,.page-title,.post-title,.widget-title,.work-card__title,.work-template-title{font-family:Source Sans Pro,sans-serif;font-size:2rem;color:#333}.about-body,.blog-card-info,.smash-body,.work-detail__wrapper{font-family:"Source Serif Pro",Times New Roman,serif;font-size:1rem}@media (max-width:50rem){.bc-title,.page-title,.post-title,.widget-title,.work-card__title,.work-template-title{font-size:1.8rem}}*{box-sizing:border-box}ul{margin-left:1rem;padding-left:1rem}body,html{margin:0;padding:0;font-family:"Source Serif Pro",Times New Roman,serif}body{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAMgCAYAAADVw8ezAAAABmJLR0QAHABUAIjUhUyCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gweFjM6yKK+xAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAK1klEQVR42u3dwW7jVgJE0SdS9vz/j84+bYnMwnKHVjuIJRFw2XXuajJAMhme5qNMAa7D/0/rOor669dpnJfl918/Px3HcZ52/d84nZfx6+X0+6/naRr/ez5+6u+dRlnH4/v/y+fzMtYd/0yu6zrO5+XdfzffAF4HMk/TuzvivCzjdHUBH707tnfgcZ5uugPrQN5QDofDO5RlefwuWZb1HcbhcLjp7ugFufpTe30h7+0a9jhPY56AfO5ZMk9jmg7/etTcg7E9+qbpcNeHhVqQw+Hw7k/vRw/jm0CuPhxcH4tAPtHTcX6Hcjrf94C//vvmaRpPx/muf6dqkD0+Bn90Z13/M2/692kHefsY/PYn/Lws4+U0Pn3crOv6x8fcWx/kQP54wM/jvKy/74x7fy45HA7jOM8P/btMOO7/RPRfn9zcIQ9ezGVZx3Lna5TpsBMqin+Om+en+eF/BpCdUb78+MQQ9jxzCYAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBAB+abt8jsXHx1ESfhdhz8GZF3X8evl/NCvV31+mqHsBfLwzMO6jtP5cPcvr/cM2bQs6y5zQafzPgs39XfIeXm/JHCcp5t+if0b5ut/Po/nya8RPj6C8XI6/3OrTa/Hzi0g6zp+H3en8zLmeXloWaD6yDqdrjYz5tsezB8NZl3/M4F8spfT+aFpuH/7+67vOiCfPGquP1U9cszM858Tduu6Arn3E9HTcb55q+8a83rCbs+hxx8Ncn2xpumwy0N4nj6YsCtFmW67O85/TMM9uijzEexHxyKQDz7mXk/D7bmyfD2m9egbgB8Pcv2RdJ6nXd8/+Ri8w6sTfSFI+g55HUj6DnnlkZW8Q94JErxDXvtQT90hrwVJ3SGv/tibuENe/3NI2g75T+nubwzTdsjrQV4vYs4OuVcnI2uH3B2yuZgJO+RANsdNwg45EBc07xkiIEAEBIiACAgQAQEiIEAEBIiACAgQAQEiIEAEBIiACAgQAQEiIEAEBIiACAgQAQEiIEAEBIiACAgQAQEiIEAEBIiA6C3js5sSduGBbDASduGBXErZhfcMGVm78O6QkbULf4SRtQtff2Sl7cJXgyTuwteCpO7C14Kk7sJXgiTvwk+dd0fuLnwdSPoufB1I+i68Vydh1YGk78LXgaTvwlceWcm78J0gwbvwtQ/11F34WpDUXfjqj72Ju/D1P4ek7cLXf2OYtgvvO/WRtQvv1cnI2oV3h2wuZsIuPJDNcZOwCw9k5wv68PGJIex55hIAERAgAgJEQIAICBABERAgAgJEQIAICBABERAgAgJEQIAICBABERAgAgJEQIAICBABERAgAgJEQIAICBABERAgAvJN2+V3LibskAPZYCTskAO5lLJD7hkysnbI3SEja4e8HiRth7z+yErbIa8GSdwhrwVJ3SGvBUndIa8ESd4hrwRJ3iGvA0nfIa8DSd8h9+pEXwuSvkNeB5K+Q155ZCXvkHeCBO+Q1z7UU3fIa0FSd8irP/Ym7pDX/xyStkP+U7r7G8O0HfJ6kNeLmLND7tXJyNohd4dsLmbCDjmQzXGTsEMOxAXNe4YICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgesv47KaEXXggG4yEXXggl1J24T1DRtYuvDtkZO3CH2Fk7cLXH1lpu/DVIIm78LUgqbvwtSCpu/CVIMm78FPn3ZG7C18Hkr4LXweSvgvv1UlYdSDpu/B1IOm78JVHVvIufCdI8C587UM9dRe+FiR1F776Y2/iLnz9zyFpu/D13xim7cL7Tn1k7cJ7dTKyduHdIZuLmbALD2Rz3CTswgPZ+YI+fHxiCHueuQRABASIgAARECACAkRABASIgAARECACAkRABASIgAARECACAkRABASIgAARECACAkRABASIgAARECACAkRABASIgHzTdvmdiwk75EA2GAk75EAupeyQe4aMrB1yd8jI2iGvB0nbIa8/stJ2yKtBEnfIa0FSd8hrQVJ3yCtBknfIK0GSd8jrQNJ3yOtA0nfIvTrR14Kk75DXgaTvkFceWck75J0gwTvktQ/11B3yWpDUHfLqj72JO+T1P4ek7ZD/lO7+xjBth7we5PUi5uyQe3UysnbI3SGbi5mwQw5kc9wk7JADcUHzniECAkRAgAiIgAARECACAkRAgAiIgAARECACAkRAgAiIgAARECACAkRAgAiIgAARECACAkRAgAiIgAARECACAkRAgAiI3jI+uylhFx7IBiNhFx7IpZRdeM+QkbUL7w4ZWbvwRxhZu/D1R1baLnw1SOIufC1I6i58LUjqLnwlSPIu/NR5d+TuwteBpO/C14Gk78J7dRJWHUj6LnwdSPoufOWRlbwL3wkSvAtf+1BP3YWvBUndha/+2Ju4C1//c0jaLnz9N4Zpu/C+Ux9Zu/BenYysXXh3yOZiJuzCA9kcNwm78EB2vqAPH58Ywp5nLgEQAQEiIEAEBIiAABEQAQEiIEAEBIiAABEQAQEiIEAEBIiAABEQAQEiIEAEBIiAABEQAQEiIEAEBIiAABEQAQEiIN+0XX7nYsIOOZANRsIOOZBLKTvkniEja4fcHTKydsjrQdJ2yOuPrLQd8mqQxB3yWpDUHfJakNQd8kqQ5B3ySpDkHfI6kPQd8jqQ9B1yr070tSDpO+R1IOk75JVHVvIOeSdI8A557UM9dYe8FiR1h7z6Y2/iDnn9zyFpO+Q/pbu/MUzbIa8Heb2IOTvkXp2MrB1yd8jmYibskAPZHDcJO+RAXNC8Z4iAABEQIAIiIEAEBIiAABEQIAIiIEAEBIiAABEQIAIiIEAEBIiAABEQIAIiIEAEBIiAABEQIAIiIEAEBIiAABEQIAKit4zPbkrYhQeywUjYhQdyKWUX3jNkZO3Cu0NG1i78EUbWLnz9kZW2C18NkrgLXwuSugtfC5K6C18JkrwLP3XeHbm78HUg6bvwdSDpu/BenYRVB5K+C18Hkr4LX3lkJe/Cd4IE78LXPtRTd+FrQVJ34as/9ibuwtf/HJK2C1//jWHaLrzv1EfWLrxXJyNrF94dsrmYCbvwQDbHTcIuPJCdL+jDxyeGsOeZSwBEQIAICBABASIgQAREQIAICBABASIgQAREQIAICBABASIgQAREQIAICBABASIgQAREQIAICBABASIgQAREQIAIyDdtl9+5mLBDDmSDkbBDDuRSyg65Z8jI2iF3h4ysHfJ6kLQd8vojK22HvBokcYe8FiR1h7wWJHWHvBIkeYe8EiR5h7wOJH2HvA4kfYfcqxN9LUj6DnkdSPoOeeWRlbxD3gkSvENe+1BP3SGvBUndIa/+2Ju4Q17/c0jaDvlP6e5vDNN2yOtBXi9izg65Vycja4fcHbK5mAk75EA2x03CDjkQFzTvGSIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiIAICBABASIgQAQEiL4wW6ebEmbIgWwwEmbIgVxKmSH3DBlZM+TukJE1Q36EkTVDXn9kpc2QV4MkzpDXgqTOkNeCpM6QV4Ikz5BPnXdH7gx5HUj6DHkdSPoMuVcnYf0N0U4H5cnsgN0AAAAASUVORK5CYII=)}a{color:#297d7d;transition:color .1s ease-in-out}a:hover{color:#92c46d}blockquote{margin-left:1rem;padding-left:1rem;border-left:1px solid #297d7d;font-style:italic}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}input[type=password],input[type=search],input[type=text]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;border:2px solid #dadada;font-style:italic;padding:.5rem}strong{font-weight:900}.svg-icon{width:1em;height:1em}.svg-icon,.tech-svg{display:inline-block}.tech-svg{width:2.5rem;height:2.5rem}.photoshop-recolor path{fill:#fff}.webpack-recolor path{fill:#1c78c0}.react-recolor path{fill:#00d8ff}.subtitle-border{border-top:1px solid #333;border-bottom:3px solid #333}.photo-cred,.photo-cred>*{color:#7fb1b2;font-family:"Source Serif Pro",Times New Roman,serif;font-size:12px}.photo-cred a:hover{color:#92c46d}.social-icons{display:flex;flex-direction:column;align-items:center}.social-icon__wrapper{display:flex;flex-direction:row}.social-icon__wrapper a{padding:.2rem}@media (max-width:50rem){body,html{font-size:.8rem}.tech-svg{width:1.75rem;height:1.75rem}.photo-cred,.photo-cred>*{font-size:10px}}.header{font-family:Open Sans,sans-serif;font-size:16px;background-color:#297d7d;margin-bottom:2rem;overflow:auto;display:relative}.header-title,.header-title>*{font-family:Francois One,sans-serif;font-size:48px;color:#f6f5f3;text-decoration:none;text-transform:uppercase}.header-title>:hover{color:#f6f5f3}.header-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:80%;margin:0 auto}.header-wrapper nav{width:16rem}.header-nav{padding-left:0;margin:0;width:100%;display:flex;flex-direction:row;justify-content:space-around;list-style:none}.header-nav>*{text-decoration:none;color:#f6f5f3;border:#f6f5f3}@media (max-width:50rem){.header{margin-bottom:1rem}.header-wrapper{flex-direction:column}.header-wrapper nav{margin-bottom:1rem}.header-wrapper .social-icons{display:none}}.footer{flex:1 0 auto;font-size:.8rem;color:#dadada;text-align:center}.footer a{color:#7fb1b2}@media (max-width:50rem){.footer{font-size:.6rem}}.main-content__wrapper{margin:0 auto;max-width:1003px;padding:0 10px;position:relative;overflow:auto}.main-content{display:flex;flex-direction:row;justify-content:space-between}.main-content aside,.main-content section{padding:1rem .5rem}.main-content aside{width:25%}.main-content section{width:75%;font-family:"Source Serif Pro",Times New Roman,serif}@media (max-width:50rem){.main-content{flex-direction:column}.main-content aside,.main-content section{width:100%;padding:1rem 0}}.blog-card{position:relative;width:100%;height:14rem;margin-bottom:1.5rem}.blog-card__wrapper{position:absolute;left:0;top:0;width:100%;height:100%;z-index:2}.blog-card-info{display:flex;flex-direction:column;position:absolute;left:0;bottom:0;height:60%;width:100%;padding:0 1rem;color:#333;background-color:hsla(0,0%,100%,.7);transition:background-color .2s ease-in-out}.blog-card-info:hover{background-color:hsla(0,0%,100%,.8)}.blog-card-info:hover .blog-card__header .bc-title{color:#333}.blog-card__header{text-align:center}.bc-title{color:#297d7d;padding:.3rem 0;transition:color .2s ease-in-out}.bc-subtitle{position:relative;margin:0 auto;padding:.3rem 0;display:flex;justify-content:center;font-size:14px}.bc-tags{position:absolute;left:0;display:flex;justify-content:space-between;align-items:center;font-size:.6rem}.tag-icon{height:18px;width:18px}.tag-span{margin-left:.2rem}.tag-span:first-letter{text-transform:uppercase}.date-author{margin:0 auto}.date-author span{margin:0 1rem}.blog-card__content{flex:1 0 auto;display:flex;flex-direction:column;justify-content:space-between}.blog-card__excerpt{padding:.3rem 0}.blog-card__cta,.blog-card__excerpt{font-family:"Source Serif Pro",Times New Roman,serif;text-align:center}.blog-card__cta{padding:0 0 .5rem;font-size:14px;text-decoration:underline;color:#539798;transition:color .2s ease-in-out}@media (max-width:50rem){.blog-card{height:16rem}.bc-subtitle{font-size:.9rem}}@media (max-width:30rem){.bc-title{font-size:1.6rem}.bc-tags{display:none}}.blog-header h1,h2,h3,h4,h5,h6{margin:.5rem 0}.blog-header h1,.post-body,h2,h3,h4,h5,h6{font-family:"Source Serif Pro",Times New Roman,serif}@media (max-width:50rem){.blog-aside{display:flex;flex-direction:row-reverse;justify-content:space-between}}@media (max-width:38rem){.blog-aside{flex-direction:column}.blog-aside>*{max-width:unset}}.blog-search__wrapper{position:relative}.blog-search__wrapper input[type=search]{width:100%}.blog-search__button{position:absolute;top:4px;bottom:4px;right:4px;width:30px;border:0;color:#a8a8a8;cursor:pointer;background:transparent}.archive__container{padding:1rem 0}.widget-title{font-size:1.5rem;text-align:center}.widget-link{padding:.5rem .4rem 0}@media (max-width:50rem){.archives{display:flex;justify-content:space-around;flex:1 0 auto}.archive__container{padding:0 1rem;min-width:16rem}.blog-search__wrapper{padding:0 1rem}.blog-search__button{right:14px}}@media (max-width:38rem){.archives{flex-direction:column}.archive__container{padding:1rem 0}.blog-search__wrapper{padding:0}.blog-search__button{right:4px}}.work__wrapper{width:100%}.work-card__wrapper{display:flex;padding:1rem 0}.work-card__thumb-wrapper{position:relative;border:1px solid #7fb1b2}.wctw-hoverfade{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;background-color:none;transition:background-color .2s ease-in-out}.work-card__thumb{min-width:400px}.work-card__info{display:flex;flex-direction:column;flex:1 0 auto;margin:0 1rem;padding:.5rem;text-align:center;border:4px solid #dadada;outline:1px solid #f6f5f3;outline-offset:-3px}.work-card__title-link-wrapper{text-decoration:none;display:inline}.work-card__title{color:#297d7d;display:inline;transition:color .2s ease-in-out}.work-card__title:hover{color:#333}.work-card__content,.work-card__lower{display:flex;flex-direction:column;flex:1 0 auto}.work-card__content{justify-content:space-between}.work-card__description,.work-card__links{padding:.5rem 0}.work-card__links a{margin-right:1rem}.work-card__links a:hover{color:#92c46d}.work-card__tech-wrapper>*{margin:0 .2rem}.work-card__thumb-wrapper:hover .wctw-hoverfade{background-color:hsla(0,0%,100%,.2)}@media (max-width:50rem){.work-card__wrapper{flex-direction:column;width:60%;margin:0 auto}.work-card__info{margin:1rem 0}.work-card__thumb{min-width:300px}}@media (max-width:38rem){.work-card__wrapper{width:100%}}.about-photo{margin-right:2rem}.about-photo:first-child{min-width:200px}.about-photo .social-icons{display:none}.about-info{padding:1rem 0;display:flex;justify-content:space-between;align-items:center}@media (max-width:50rem){.about-photo:first-child{min-width:100px;margin-bottom:1rem}.about-info{flex-direction:column;align-items:flex-start}}.smash-body{margin:1rem 0 2rem}</style><meta name="generator" content="Gatsby 2.0.79"/><title data-react-helmet="true">wbdv | Py and Pi, part 3</title><meta data-react-helmet="true" name="description" content="Michael Weber&#x27;s personal website, portfolio, blog. Howdy folks."/><meta data-react-helmet="true" property="og:title" content="Py and Pi, part 3"/><meta data-react-helmet="true" property="og:description" content="Michael Weber&#x27;s personal website, portfolio, blog. Howdy folks."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Michael"/><meta data-react-helmet="true" name="twitter:title" content="Py and Pi, part 3"/><meta data-react-helmet="true" name="twitter:description" content="Michael Weber&#x27;s personal website, portfolio, blog. Howdy folks."/><meta data-react-helmet="true" name="keywords" content="gatsby, application, react"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><link as="script" rel="preload" href="/0-e057d6f57968741a8c5d.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-template-js-725abda8e1c380b15b11.js"/><link as="script" rel="preload" href="/app-5fc781204dbaacbe818d.js"/><link as="script" rel="preload" href="/webpack-runtime-704566518963eb43c098.js"/><link as="fetch" rel="preload" href="/static/d/555/path---posts-py-and-pi-part-3-850-af9-jrAESpawm6tOMlIHDLE5f0GMiI.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header class="header"><div class="header-wrapper"><div class="header-title"><a href="/">__WEBSDEV</a></div><nav><ul class="header-nav"><a style="padding:3px 0" href="/">Blog</a><a style="padding:3px 0" href="/about/">About</a><a style="padding:3px 0" href="/work/">Work</a><a style="padding:3px 0" href="/smash/">Alter-Ego</a></ul></nav><div class="social-icons"><div class="social-icon__wrapper"><a href="https://twitter.com/_websdev"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAActpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgSW1hZ2VSZWFkeTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KKS7NPQAAAuNJREFUSA2tlrtrVFEQh3fzEKxEfHYKRkGLiCFqZ5FOtLEQxM74RwSUlFqJpaVNUqSyk3RWFhK0UYyNgliIryiSqHmv33f3/NabTYKFDnw7c+bMmTPnce/dZqMmrVart9lsrsVFexj7PJyBIwVU401hBj3NmKc6le4cbW/pSIOgQZiABfibGDMJg7XxvbErTWfHgT0KXyCyjrFW0O5uJ84xo0mM3c7ZMejBHoPICsYqmDyJ06euT2RsZGzTJDrotfLIEoaJtxMnXi6kkF+14M5KqsnocM/nSoDJrS7VF3dH6e8W4xUnVczVOROr95AUq+muPIPsr/e9ov0M6pU7eQqYTPXDOHNbkuw7vieQhK7qJyjz4Fnth11wFe7DFHyFiDmHrX48HvRisWfRA3CjtOvqblVZ1w8Bl+FTCcwqxnuI8yFS1qFZWY3GXnQPD9Bt9BV4CAugPPaHRDthR7H70COwz64CqnHaQKtV3I7M7FncNELB7odzcA2OFl8PdnXX0YfhPSj1GzjrYB2R3OfPOC6URFa3QeirVoqu+tBD8AGUnKP20qbBJdNu9ECxvYJWKm7jGlvnNijZ0pPYByrPH1+7yeBsUX17nN0bcdEotGe1QfC1XwV4sR+AYg63Ordv1oG+GSNWlqpcxQk7qDirsJkJs/+XcFXbaRc4Pit8bXCuqUmcWR3xIboDhxhkbB944El+DDs7kPOr56iu6TRjf0BmVs/DS3gBS7AIrmQVVsAkZ3FNwXHwbLKNWYU5zV1VlldFbsA3EtyDoSqg/ND27p+CW/ARFCcTRZ2VTDis2m+cvpgewR5YBh8gH6y38A5cUT8cBJ8DHyjFr585rN7KV8CxczDCSp+j28Ik9dd1VoJ7W7HSnJeV15+n0eT14OrXzZdYxAMWJ8s2mNS21zGXQjvbgtkaS3Lsdu6OQQ/2Vp9MkyQpZmfCrECfn8zrm5Jv5SDQD9B/+ehXh1yfxCtYa//z35bf8hRLIs/jehMAAAAASUVORK5CYII=" alt="Twitter"/></a><a href="https://github.com/webermn15"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEE2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkKYCfIAAAMrSURBVEgNnZXPS1VREMf1ldFCKjHBVNpYkSQhEfpWLdoZFBLUzjYFLZLAnVsp6A9o48JtRKvaVJtqJ0KbclWgES2iJC2jtHq++26f77yZ63km/RoYv3NmvvOdc4/3ntfclFie580sm7Gax4O1Wm2Y9UnyfXi705fBF3CelEqlh8RP4bDMS8S5YudtgAtaolKpDGVZdhvx7+oKY53LUxNHXHKDoUasjW5YmiAeo2kZNCPOcJmJJ6hclvDUMxaqxPUhRUCFnUwmDTlrif/WnRNt6plsGEJF5ybxq8FC9BO+GOs/objqCZ60pMnatBWUIXxMCDeJe/EL5OfwNXwen3FXrNycOOIiqh4z8tIqa4hNYXFHFQo/hNioFev1DtYH8VZ8p7ti5ToS3ijrQoOB0ixth1AmGOHVEnebN3QLRSD/gVC+2eaVcE6N0HpA06BvhLisAXrPd0DMVAT1Hi8Qm0kgYjDe78bXsE5QjwZJI5Mm8XATxzIjUXBdiN3FNVi720pIpcKCox5cvYWWtLU7faGyEJtlelUNYOy4ztjirzjOrVKedUpo9WlAmxhgJFed9M/Ajte8yaYSt2lAiOv8dGS7hf9pu7xPWtqw/QOXeMxUrzdIPFhDISVF7BzbHLno1Y0pypJ2/FhHBMa98pZlv6pgC17CfxmknNdanNuPxntyhZa0JTKRJj2+D+5T498Y3C6uwgehk2x2QgMGSHyxYp7fI37kxGd8jZeJj+J7Ng8i144fw68g/hzUzmV2EuBnUgPWh9CUE3Rcx/FbWssgrlAfF5Gljss+PHCcWnEhShgXP76nqWJTkA9TeQ3qup0GuiDqaVbwBdb2YwKmA05Qi92uE6tX34+GvAHq3xeB3R3gOQox/Yzv+Aj5vcVO/Cm81gnfbmBQu7deYbVaPe8c09aj21sCXoQgWyW+gZ/Cz+Kt3mBvjsfd8HTO2nHFUbfxpeAKzUgWryHxaRpeqUFGvAL0iAimR9TjNdHEewnYkzu30CyGQIgn6SG+hi9yrt/Azi0G6Ii+4u+oX8f3hzBxo7hN8D8U6+fGmvgAPoTb7bqJp9tTvyWHIk9c9EbuJ9zdmnF6GmrzAAAAAElFTkSuQmCC" alt="Github"/></a><a href="https://linkedin.com/in/michaelnweber"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEE2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOkUxQUJDNTQyMUM3RDExRTJCOTE0RjdFQ0QyRjU4NEFEPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOkUxQUJDNTNGMUM3RDExRTJCOTE0RjdFQ0QyRjU4NEFEPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOkUxQUJDNTQwMUM3RDExRTJCOTE0RjdFQ0QyRjU4NEFEPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOkUxQUJDNTQxMUM3RDExRTJCOTE0RjdFQ0QyRjU4NEFEPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CnxeePUAAAKGSURBVEgNpZQ/j4xRFIffMbtY/9aSSIREQqGR+AAqEXwCSonQaVmFQohep1dqKGgUtKLc8AVkBROJv8Vid2c8z33nN3nfMZE1TvK859x7zz3n3nPPTDUYDM7BMijrtfqvb2J8IMqFDp/lqqoOwgCUfq3KdxPfTmO8UdNY7uuZwEGCTwoW540Gj1/ZN8MoJ/a0n+EhvIcTcBKUaZJ42H7FBfreAlHfLOGMOBgcghegpK716B++ntrTKR/hmQb75zqdzhvMp46HEr+MN6Sbj7iLHUfcRfAVkli+MkZbRhOknLEdh4kHMEhdq6rain2dwLPot3AGzoOiXySBPNy4mKw1P6mLvuP0E7zRZjDgKqxBF7aA8glsCmUB9hSr9vfQRZIgme8zexe8zW64B4fhErwEfy+34DW4tgKeWM7CNdgHiVce1J5Y84PcYbEI9l54BXbXcSfRXW117dX+Mn8ZfoFSOq9VL9xzfXduBwN53Z2gzNAAS+DmBZgHq5CED/B5XjzrUrUfhIU8oD5eM2L9lVWCzcIV7MfwBC6Ct+yS2PdbgpE0u2M0OcHwFravgY5h3oD9ziEe6hFrefDiW1b4jJco83/T8yzOwfrQaQd629D+Q02TwPewwyL+bvIGmRvpaRKkEfJG6ubbjYJrTJNgPFir5q3oExI0nU2ecfMg4+XQp7mePSVXc8EJf5mRbxj+RXjir5lEf2nYmvrYnpEfMdS2qTVMotO0obantDvSileZf8dY36OgZM8B7Nusm8TOOgWK6/38F6WuresVt/oG4/P6Oxc9dB2pUTyz9CABXPAUIQEyVnuL+CfJ+DouxadngkVIEgNanpBAGatTGswi+jTXnXTOmIu/AfYRn9BU48AbAAAAAElFTkSuQmCC" alt="LinkedIn"/></a></div></div></div></header><div class="main-content__wrapper"><div class="post-header"><div class="post-title">Py and Pi, part 3</div><h3>Webs</h3><h5>March 20, 2019</h5></div><main class="main-content"><section><div class="post__wrapper"><div><p>This is the final entry in my three part writeup of my first foray into Python &#x26; Raspberry Pi programming. You can find <a href="https://websdev.io/posts/a-usb-controller-py-and-pi/">part one</a> and <a href="https://websdev.io/posts/py-and-pi-part-2/">part two</a> at these respective links!</p>
<p>I encourage you to check out my previous posts, but for those with limited time, I'll summarize briefly. At the outset, I was brought in with a vague goal; <strong>display a large image file on a CRT monitor or television, and allow for a user to pan, scroll, and zoom around the file with a third party USB gamecube controller</strong>. In <strong>part 1</strong>, I gave a brief background of the larger project and reviewed the hardware I chose to accomplish the task. In <strong>part 2</strong>, I delved a bit deeper, walking through my learning process in regards to handling the USB device data with Python.</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/4f1a3d8546eddcd9c992261d8267883f/7547a/me.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 363px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 93.66391184573003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUDAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABmerOpBEdKd9CSeF//8QAGhABAAMBAQEAAAAAAAAAAAAAAQIDEQAQEv/aAAgBAQABBQI6dfzDeqgpkClY7W4vn//EABURAQEAAAAAAAAAAAAAAAAAAAIQ/9oACAEDAQE/AVHP/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQIBAT8BY//EABwQAAIABwAAAAAAAAAAAAAAAAABEBESICExQf/aAAgBAQAGPwIqhPDEumrP/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARMSFBEGGR/9oACAEBAAE/IaXNQcnhRL6O416LgUdGNwOwbv2Os//aAAwDAQACAAMAAAAQuAcC/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEhEEH/2gAIAQMBAT8QiiZ1n//EABcRAAMBAAAAAAAAAAAAAAAAAAEQETH/2gAIAQIBAT8QKI4v/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARITFRsfD/2gAIAQEAAT8QWDsoBfYHdnPJSxaPoqIoJapd32E+whfzKbUaTzNBaNxU2zrc/9k='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Michael the frog working hard"
        title=""
        src="/static/4f1a3d8546eddcd9c992261d8267883f/7547a/me.jpg"
        srcset="/static/4f1a3d8546eddcd9c992261d8267883f/08f83/me.jpg 125w,
/static/4f1a3d8546eddcd9c992261d8267883f/ef5e6/me.jpg 250w,
/static/4f1a3d8546eddcd9c992261d8267883f/7547a/me.jpg 363w"
        sizes="(max-width: 363px) 100vw, 363px"
      />
  </span>
  </a></p>
<blockquote>
<p>Pictured: me writing this post</p>
</blockquote>
<p>Now, in part 3, it's time to assemble the pieces, complete the Python script, and tie up a few loose ends. </p>
<p>I left off on this script, which reads the USB controller's input data and returns a tuple containing those values. (I covered this in detail in <a href="https://websdev.io/posts/py-and-pi-part-2/">part two</a> if you're inclined!)</p>
<div class="gatsby-highlight" data-language="python"><pre style="counter-reset: linenumber NaN" class="language-python line-numbers"><code class="language-python">infile_path <span class="token operator">=</span> <span class="token string">"/dev/input/js0"</span>
EVENT_SIZE <span class="token operator">=</span> struct<span class="token punctuation">.</span>calcsize<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">)</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>infile_path<span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>
event <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span>EVENT_SIZE<span class="token punctuation">)</span>
<span class="token keyword">while</span> event<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>struct<span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span>tv_msec<span class="token punctuation">,</span>  value<span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span> <span class="token operator">=</span> struct<span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    event <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span>EVENT_SIZE<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>Thank you again to Aaron from this <a href="https://stackoverflow.com/a/49291640/9248927">SO post</a> for this snippet</p>
</blockquote>
<p>Moving forward, these values needed to be converted into inputs that manipulate the image file on the Pi. Fortunately, with <a href="%5Bhttps://feh.finalrewind.org/%5D(https://feh.finalrewind.org/)">Feh</a>, I'd already chosen a flexible image viewer with built in keyboard commands that make the job much easier. The controller's buttons can be easily remapped to keyboard actions using a Python library. <a href="https://pypi.org/project/PyUserInput/">PyUserInput's</a> PyKeyboard worked great.</p>
<p>After some trial and error, I was able to determine which numbers corresponded to each individual controller input, &#x26; I wrote a little elif tree function to convert the controller data to keyboard inputs. </p>
<p>The final issue I was running into was the read of the <code class="language-text">js0</code> file; once called, the <code class="language-text">while event:</code> loop <em>blocks</em> the thread, waiting for data to be written to the file. </p>
<p>To deal with this, I moved the file read to its own class and introduced <strong>threading</strong> to the script. Threading in Python allows you to execute multiple tasks simultaneously, so I could begin execution of the <code class="language-text">js0</code> file read and continuously poll it at the same time. </p>
<div class="gatsby-highlight" data-language="python"><pre style="counter-reset: linenumber NaN" class="language-python line-numbers"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ControllerPoller</span> <span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token punctuation">,</span> calcsize<span class="token punctuation">)</span><span class="token punctuation">:</span>
        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>path <span class="token operator">=</span> path
        self<span class="token punctuation">.</span>calcsize <span class="token operator">=</span> calcsize
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>itype <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        portal <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>
        event <span class="token operator">=</span> portal<span class="token punctuation">.</span>read<span class="token punctuation">(</span>self<span class="token punctuation">.</span>calcsize<span class="token punctuation">)</span>
        <span class="token keyword">while</span> event<span class="token punctuation">:</span>
            <span class="token punctuation">(</span>msec<span class="token punctuation">,</span> value<span class="token punctuation">,</span> itype<span class="token punctuation">,</span> number<span class="token punctuation">)</span> <span class="token operator">=</span> struct<span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
            self<span class="token punctuation">.</span>itype <span class="token operator">=</span> itype
            self<span class="token punctuation">.</span>number <span class="token operator">=</span> number
            event <span class="token operator">=</span> portal<span class="token punctuation">.</span>read<span class="token punctuation">(</span>self<span class="token punctuation">.</span>calcsize<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">get_info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">,</span> self<span class="token punctuation">.</span>itype<span class="token punctuation">,</span> self<span class="token punctuation">.</span>number<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>Same little block of code, shiny new bells &#x26; whistles</p>
</blockquote>
<p>The snippet has evolved into <code class="language-text">ControllerPoller</code>! </p>
<p>I moved the USB controller file read to the <code class="language-text">run()</code> method, and initialized it on a new thread. Now, when the class is instantiated &#x26; the <code class="language-text">start()</code> method is called, any other execution further down the script won't be blocked, and the instance of <code class="language-text">ControllerPoller</code>'s <strong>value</strong>, <strong>itype</strong>, and <strong>number</strong> properties are updated with every new read of the <code class="language-text">js0</code> file. </p>
<p>In addition, I added the <code class="language-text">get_info()</code> method that returns those values when called. So, our order of execution looks like this:</p>
<ol>
<li>Declare the path to the USB file you're reading, and calculate the size of the struct you're unpacking</li>
<li>Instantiate the <code class="language-text">ControllerPoller</code> class, passing it the file path and the struct size variables</li>
<li>Call the <code class="language-text">start()</code> method of the class instance, spawning a new thread of execution that reads the USB controller's values each time the USB data file is written to, and holds those values until they're overwritten</li>
<li>On the main thread, start a polling loop that uses the <code class="language-text">get_info()</code> method to continuously check the USB values and pass them to the keyboard input conversion function</li>
</ol>
<p>With my image opened in Feh, <strong>it worked</strong>!!!</p>
<p>As a last bit of cleanup, I wrote a shell script that both launched the image file in Feh and executed the Python script to make setting up as easy as possible. One double click launches everything.</p>
<p>As with many of my little projects, I tackled several problems I'd never encountered before, and I really enjoyed researching and working on this code. If you stuck through the whole read, thank you! I hope you learned something new too. Here's the completed file:</p>
<div class="gatsby-highlight" data-language="python"><pre style="counter-reset: linenumber NaN" class="language-python line-numbers"><code class="language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> threading
<span class="token keyword">import</span> struct
<span class="token keyword">from</span> pykeyboard <span class="token keyword">import</span> PyKeyboard

kb <span class="token operator">=</span> PyKeyboard<span class="token punctuation">(</span><span class="token punctuation">)</span>

file_path <span class="token operator">=</span> <span class="token string">"/dev/input/js0"</span>
event_size <span class="token operator">=</span> struct<span class="token punctuation">.</span>calcsize<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">convert_inputs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">(</span>value<span class="token punctuation">,</span> itype<span class="token punctuation">,</span> number<span class="token punctuation">)</span> <span class="token operator">=</span> data
    <span class="token keyword">if</span> itype <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">and</span> number <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Control_L'</span><span class="token punctuation">,</span> <span class="token string">'Right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Control_L'</span><span class="token punctuation">,</span> <span class="token string">'Left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> itype <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">and</span> number <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Control_L'</span><span class="token punctuation">,</span> <span class="token string">'Down'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Control_L'</span><span class="token punctuation">,</span> <span class="token string">'Up'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> itype <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">and</span> number <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_key<span class="token punctuation">(</span><span class="token string">'Up'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>release_key<span class="token punctuation">(</span><span class="token string">'Up'</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> itype <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">and</span> number <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>press_key<span class="token punctuation">(</span><span class="token string">'Down'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            kb<span class="token punctuation">.</span>release_key<span class="token punctuation">(</span><span class="token string">'Down'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ControllerPoller</span> <span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token punctuation">,</span> calcsize<span class="token punctuation">)</span><span class="token punctuation">:</span>
        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>path <span class="token operator">=</span> path
        self<span class="token punctuation">.</span>calcsize <span class="token operator">=</span> calcsize
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>itype <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        portal <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>
        event <span class="token operator">=</span> portal<span class="token punctuation">.</span>read<span class="token punctuation">(</span>self<span class="token punctuation">.</span>calcsize<span class="token punctuation">)</span>
        <span class="token keyword">while</span> event<span class="token punctuation">:</span>
            <span class="token punctuation">(</span>msec<span class="token punctuation">,</span> value<span class="token punctuation">,</span> itype<span class="token punctuation">,</span> number<span class="token punctuation">)</span> <span class="token operator">=</span> struct<span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">"LhBB"</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
            self<span class="token punctuation">.</span>itype <span class="token operator">=</span> itype
            self<span class="token punctuation">.</span>number <span class="token operator">=</span> number
            event <span class="token operator">=</span> portal<span class="token punctuation">.</span>read<span class="token punctuation">(</span>self<span class="token punctuation">.</span>calcsize<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">get_info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">,</span> self<span class="token punctuation">.</span>itype<span class="token punctuation">,</span> self<span class="token punctuation">.</span>number<span class="token punctuation">)</span>


poll_usb <span class="token operator">=</span> ControllerPoller<span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> event_size<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    poll_usb<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        convert_inputs<span class="token punctuation">(</span>poll_usb<span class="token punctuation">.</span>get_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.025</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Simple enough! :)</p>
<p>If you've any feedback or otherwise please don't hesitate to reach me at my <a href="https://twitter.com/_websdev">twitter</a>!</p>
<p>--Michael</p>
<blockquote>
<p>Questions? Comments? Find me on Twitter at <a href="https://twitter.com/_websdev">https://twitter.com/_websdev</a></p>
</blockquote></div></div></section><aside><div class="blog-aside"><div class="blog-search"><form class="blog-search__wrapper"><input type="search" placeholder="Search archives"/><button class="blog-search__button"><img alt="search-button" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI1MC4zMTMgMjUwLjMxMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjUwLjMxMyAyNTAuMzEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGcgaWQ9IlNlYXJjaCI+Cgk8cGF0aCBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7IiBkPSJNMjQ0LjE4NiwyMTQuNjA0bC01NC4zNzktNTQuMzc4Yy0wLjI4OS0wLjI4OS0wLjYyOC0wLjQ5MS0wLjkzLTAuNzYgICBjMTAuNy0xNi4yMzEsMTYuOTQ1LTM1LjY2LDE2Ljk0NS01Ni41NTRDMjA1LjgyMiw0Ni4wNzUsMTU5Ljc0NywwLDEwMi45MTEsMFMwLDQ2LjA3NSwwLDEwMi45MTEgICBjMCw1Ni44MzUsNDYuMDc0LDEwMi45MTEsMTAyLjkxLDEwMi45MTFjMjAuODk1LDAsNDAuMzIzLTYuMjQ1LDU2LjU1NC0xNi45NDVjMC4yNjksMC4zMDEsMC40NywwLjY0LDAuNzU5LDAuOTI5bDU0LjM4LDU0LjM4ICAgYzguMTY5LDguMTY4LDIxLjQxMyw4LjE2OCwyOS41ODMsMEMyNTIuMzU0LDIzNi4wMTcsMjUyLjM1NCwyMjIuNzczLDI0NC4xODYsMjE0LjYwNHogTTEwMi45MTEsMTcwLjE0NiAgIGMtMzcuMTM0LDAtNjcuMjM2LTMwLjEwMi02Ny4yMzYtNjcuMjM1YzAtMzcuMTM0LDMwLjEwMy02Ny4yMzYsNjcuMjM2LTY3LjIzNmMzNy4xMzIsMCw2Ny4yMzUsMzAuMTAzLDY3LjIzNSw2Ny4yMzYgICBDMTcwLjE0NiwxNDAuMDQ0LDE0MC4wNDMsMTcwLjE0NiwxMDIuOTExLDE3MC4xNDZ6IiBmaWxsPSIjYThhOGE4Ii8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==" class="svg-icon"/></button></form></div><div class="archives"><div class="archive__container"><div class="widget-title subtitle-border">Recent posts</div><div class="widget-link"><a aria-current="page" class="" href="/posts/py-and-pi-part-3/">Py and Pi, part 3</a></div><div class="widget-link"><a href="/posts/py-and-pi-part-2/">Py and Pi, part 2</a></div><div class="widget-link"><a href="/posts/a-usb-controller-py-and-pi/">USB controllers, Py, and Pi</a></div><div class="widget-link"><a href="/posts/new-year-new-website/">New year, new website</a></div></div><div class="archive__container"><div class="widget-title subtitle-border">Browse by tag</div><div class="widget-link"><a href="/tags/programming">programming</a></div><div class="widget-link"><a href="/tags/python">python</a></div><div class="widget-link"><a href="/tags/ssbm">ssbm</a></div><div class="widget-link"><a href="/tags/me">me</a></div></div></div></div></aside></main></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135405681-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-template-js","jsonName":"posts-py-and-pi-part-3-850","path":"/posts/py-and-pi-part-3/"};window.dataPath="555/path---posts-py-and-pi-part-3-850-af9-jrAESpawm6tOMlIHDLE5f0GMiI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app.88323558fe2110f6bc3d.css","/app-5fc781204dbaacbe818d.js"],"component---src-templates-work-detail-template-js":["/component---src-templates-work-detail-template-js-26bad4f6660bb508ef85.js"],"component---src-templates-tags-template-js":["/component---src-templates-tags-template-js-6c4e5c250232f5941dc1.js"],"component---src-templates-blog-post-template-js":["/component---src-templates-blog-post-template-js.0620f9994068516ee82f.css","/component---src-templates-blog-post-template-js-725abda8e1c380b15b11.js"],"component---src-pages-404-js":["/component---src-pages-404-js-053addd9bd4a3b2f5bba.js"],"component---src-pages-about-js":["/component---src-pages-about-js-69248aa72764a093efc6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f78215aa83976af1ed51.js"],"component---src-pages-smash-js":["/component---src-pages-smash-js-69711d4d4aa9f4f8421e.js"],"component---src-pages-work-js":["/component---src-pages-work-js-23a89923a319556a17bd.js"],"pages-manifest":["/pages-manifest-333ecc879f0dfb953fa1.js"]};/*]]>*/</script><script src="/webpack-runtime-704566518963eb43c098.js" async=""></script><script src="/app-5fc781204dbaacbe818d.js" async=""></script><script src="/component---src-templates-blog-post-template-js-725abda8e1c380b15b11.js" async=""></script><script src="/0-e057d6f57968741a8c5d.js" async=""></script></body></html>